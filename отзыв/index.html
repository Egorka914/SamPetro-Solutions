<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–û—Ç–∑—ã–≤</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
    <link rel="icon" href="–ª–æ–≥–æ/logo.jpg" type="image/png">
</head>
<body>

  <h1>–û—Ç–∑—ã–≤</h1>

  <form id="reviewForm">
    <input type="text" id="name" placeholder="–í–∞—à–µ –∏–º—è" required>
    <textarea id="message" placeholder="–í–∞—à –æ—Ç–∑—ã–≤" rows="4" required></textarea>
    <button type="submit">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
  </form>

  <div id="reviewsContainer"></div>

  <!-- –°–∫—Ä—ã—Ç–∞—è –∑–æ–Ω–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É -->
  <div id="adminTrigger" title="–ê–¥–º–∏–Ω –≤—Ö–æ–¥"></div>

  <script>
    const form = document.getElementById('reviewForm');
    const reviewsContainer = document.getElementById('reviewsContainer');
    const adminTrigger = document.getElementById('adminTrigger');

    let savedReviews = JSON.parse(localStorage.getItem('reviews')) || [];
    let isAdmin = false;
    const adminPassword = '1'; // üîê –ó–î–ï–°–¨ –ó–ê–î–ê–ô –ü–ê–†–û–õ–¨

    function renderAllReviews() {
      reviewsContainer.innerHTML = '';
      [...savedReviews].reverse().forEach((review, index) => {
        addReviewToDOM(review.name, review.message, savedReviews.length - 1 - index);
      });
    }

    function addReviewToDOM(name, message, index) {
      const review = document.createElement('div');
      review.className = 'review';
      if (isAdmin) review.classList.add('admin');

      review.innerHTML = `
        <strong>${name}</strong>
        <p>${message}</p>
        <button class="delete-btn" data-index="${index}">–£–¥–∞–ª–∏—Ç—å</button>
      `;

      review.querySelector('.delete-btn').addEventListener('click', function () {
        const idx = this.dataset.index;
        savedReviews.splice(idx, 1);
        localStorage.setItem('reviews', JSON.stringify(savedReviews));
        renderAllReviews();
      });

      reviewsContainer.prepend(review);
    }

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const name = document.getElementById('name').value.trim();
      const message = document.getElementById('message').value.trim();

      if (name && message) {
        const newReview = { name, message };
        savedReviews.push(newReview);
        localStorage.setItem('reviews', JSON.stringify(savedReviews));
        renderAllReviews();
        form.reset();
      }
    });

    // üîê –ö–ª–∏–∫ –ø–æ —Å–∫—Ä—ã—Ç–æ–π –∑–æ–Ω–µ
    adminTrigger.addEventListener('click', function () {
      const input = prompt('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:');
      if (input === adminPassword) {
        isAdmin = true;
        alert('–†–µ–∂–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤–∫–ª—é—á—ë–Ω');
        renderAllReviews();
      } else if (input !== null) {
        alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å');
      }
    });

    renderAllReviews();
  </script>

</body>
</html>